(kicad_sch (version 20230121) (generator eeschema)

  (uuid 4a56ac62-5ec2-46fc-a86c-9adf2d8fead1)

  (paper "User" 297.002 210.007)

  (title_block
    (title "ESP-MAP (Standalone UPS Monitor)")
    (date "2024-01-07")
    (rev "rev01")
    (comment 1 "https://github.com/enriquewph/esp-map")
  )

  (lib_symbols
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Diode:BAT54S" (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "D" (at 2.54 -5.08 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "BAT54S" (at -6.35 3.175 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (at 1.905 3.175 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Datasheet" "https://www.diodes.com/assets/Datasheets/ds11005.pdf" (at -3.048 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "schottky diode" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Vr 30V, If 200mA, Dual schottky barrier diode, in series, SOT-323" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SOT?23*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "BAT54S_0_1"
        (polyline
          (pts
            (xy -3.81 0)
            (xy -1.27 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -3.175 -1.27)
            (xy -3.175 -1.016)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 -1.27)
            (xy -3.175 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 -1.27)
            (xy -2.54 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 1.27)
            (xy -1.905 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.905 0)
            (xy 1.905 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.905 1.27)
            (xy -1.905 1.016)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.27 0)
            (xy 3.81 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.175 -1.27)
            (xy 3.175 -1.016)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.81 -1.27)
            (xy 3.175 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.81 -1.27)
            (xy 3.81 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.81 1.27)
            (xy 4.445 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 4.445 1.27)
            (xy 4.445 1.016)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -4.445 1.27)
            (xy -4.445 -1.27)
            (xy -2.54 0)
            (xy -4.445 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.905 1.27)
            (xy 1.905 -1.27)
            (xy 3.81 0)
            (xy 1.905 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (circle (center 0 0) (radius 0.254)
          (stroke (width 0) (type default))
          (fill (type outline))
        )
      )
      (symbol "BAT54S_1_1"
        (pin passive line (at -7.62 0 0) (length 3.81)
          (name "A" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 7.62 0 180) (length 3.81)
          (name "K" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -5.08 90) (length 5.08)
          (name "COM" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:+3V3" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+3V3" (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"+3V3\"" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+3V3_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "+3V3_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+3V3" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 146.05 91.44) (diameter 0) (color 0 0 0 0)
    (uuid 845f389f-ac5c-4af4-aa4f-3b1355707a5f)
  )

  (wire (pts (xy 146.05 91.44) (xy 144.78 91.44))
    (stroke (width 0) (type default))
    (uuid 2a507df7-40c5-4523-b0fd-269cea55efb9)
  )
  (wire (pts (xy 152.4 87.63) (xy 152.4 95.25))
    (stroke (width 0) (type default))
    (uuid a8333ca2-6919-4fe3-9f28-bacc852923df)
  )
  (wire (pts (xy 152.4 68.58) (xy 152.4 72.39))
    (stroke (width 0) (type default))
    (uuid b03cb553-3709-44f5-9a1e-0bd7ca2daf93)
  )
  (wire (pts (xy 137.16 91.44) (xy 134.62 91.44))
    (stroke (width 0) (type default))
    (uuid b6a3e709-356a-4a55-ac00-07ba73afac37)
  )
  (wire (pts (xy 147.32 80.01) (xy 146.05 80.01))
    (stroke (width 0) (type default))
    (uuid ba3f68df-a80d-4363-9b28-2b49507e87bd)
  )
  (wire (pts (xy 158.75 91.44) (xy 146.05 91.44))
    (stroke (width 0) (type default))
    (uuid cac6ef5d-79dc-46ad-ba83-77cb1377c287)
  )
  (wire (pts (xy 146.05 80.01) (xy 146.05 91.44))
    (stroke (width 0) (type default))
    (uuid ee4527a8-96f7-423b-b0eb-5c3b1bed75f9)
  )
  (wire (pts (xy 168.91 91.44) (xy 166.37 91.44))
    (stroke (width 0) (type default))
    (uuid ee94ab47-8315-46a5-bfc7-60550df5879d)
  )

  (hierarchical_label "OUT" (shape output) (at 168.91 91.44 0) (fields_autoplaced)
    (effects (font (size 0.9906 0.9906)) (justify left))
    (uuid 3a362cc7-5245-4ed2-8f66-3a6d74eaba39)
  )
  (hierarchical_label "IN" (shape input) (at 134.62 91.44 180) (fields_autoplaced)
    (effects (font (size 0.9906 0.9906)) (justify right))
    (uuid fda0167e-248a-4b89-bf7b-490df46aeb7d)
  )

  (symbol (lib_id "Diode:BAT54S") (at 152.4 80.01 270) (mirror x) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060e60b36)
    (property "Reference" "D9" (at 154.6352 78.8416 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "BAT54S" (at 154.6352 81.153 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (at 155.575 78.105 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Datasheet" "https://rocelec.widen.net/view/pdf/gyex6hm7nf/PHGLS25648-1.pdf?t.download=true&u=5oefqw" (at 152.4 83.058 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "manf#" "BAT54S,215" (at 152.4 80.01 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 6fe01348-d977-4018-9c78-b232cd4b25f9))
    (pin "2" (uuid 8a5308a6-1b1d-4e19-a990-07873fe087f0))
    (pin "3" (uuid 4260f0a8-ef1b-41f3-bf98-9e2ac46a984a))
    (instances
      (project "UPSMonitorStandalone_rev01"
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-0000612f6239"
          (reference "D9") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-00006132323d"
          (reference "D10") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000060e45ce9"
          (reference "D13") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000061276139"
          (reference "D14") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R") (at 140.97 91.44 270) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060e62337)
    (property "Reference" "R16" (at 138.43 88.9 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "1k" (at 142.24 88.9 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Resistor_SMD:R_1206_3216Metric" (at 140.97 89.662 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://www.yageo.com/upload/media/product/productsearch/datasheet/rchip/PYu-RC_Group_51_RoHS_L_11.pdf" (at 140.97 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "manf#" "RC1206FR-071KL" (at 140.97 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid d53dacf5-29a2-4cc6-9997-1ca3fc4ac274))
    (pin "2" (uuid 6ea1ca1a-841d-43fb-a059-965630456d3f))
    (instances
      (project "UPSMonitorStandalone_rev01"
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-0000612f6239"
          (reference "R16") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-00006132323d"
          (reference "R18") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000060e45ce9"
          (reference "R21") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000061276139"
          (reference "R25") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R") (at 162.56 91.44 270) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060e62a46)
    (property "Reference" "R17" (at 160.02 88.9 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "1k" (at 163.83 88.9 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Resistor_SMD:R_1206_3216Metric" (at 162.56 89.662 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://www.yageo.com/upload/media/product/productsearch/datasheet/rchip/PYu-RC_Group_51_RoHS_L_11.pdf" (at 162.56 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "manf#" "RC1206FR-071KL" (at 162.56 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 2635d22c-5f2a-4741-bf46-81cd6051c100))
    (pin "2" (uuid 1b30a918-e283-4ccd-8862-d0a5ec7eab83))
    (instances
      (project "UPSMonitorStandalone_rev01"
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-0000612f6239"
          (reference "R17") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-00006132323d"
          (reference "R19") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000060e45ce9"
          (reference "R22") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000061276139"
          (reference "R26") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 152.4 95.25 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060e632b2)
    (property "Reference" "#PWR044" (at 152.4 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 152.527 99.6442 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 152.4 95.25 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 152.4 95.25 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 23646349-9f33-4436-8225-44bd284fa869))
    (instances
      (project "UPSMonitorStandalone_rev01"
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-0000612f6239"
          (reference "#PWR044") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-00006132323d"
          (reference "#PWR046") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000060e45ce9"
          (reference "#PWR056") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000061276139"
          (reference "#PWR067") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:+3V3") (at 152.4 68.58 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060e63a61)
    (property "Reference" "#PWR043" (at 152.4 72.39 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+3V3" (at 152.781 64.1858 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 152.4 68.58 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 152.4 68.58 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 042f33da-a1c8-462a-9427-c5a3bd65ac9b))
    (instances
      (project "UPSMonitorStandalone_rev01"
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-0000612f6239"
          (reference "#PWR043") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-00006132323d"
          (reference "#PWR045") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000060e45ce9"
          (reference "#PWR055") (unit 1)
        )
        (path "/ef94502b-f22d-4da7-a17f-4100090b03a1/00000000-0000-0000-0000-000061276139"
          (reference "#PWR066") (unit 1)
        )
      )
    )
  )
)
